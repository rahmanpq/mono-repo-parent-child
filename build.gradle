plugins{
    id 'org.springframework.boot' version "${springBootVersion}"
    id 'io.spring.dependency-management'  version "${springDependencyManagementVersion}"
}

subprojects {
    apply plugin: 'java'

    group = groupName
    version = parentVersion
    
    sourceCompatibility = javaVersion
    targetCompatibility = javaVersion
    
    repositories {
        mavenCentral()
    }

    dependencies {
        // intentional empty will be setting common dependencies for all repos
        compileOnly "org.projectlombok:lombok:${lombokVersion}"
        annotationProcessor "org.projectlombok:lombok:${lombokVersion}"
    }

    test {
	useJUnitPlatform()
    }

}


project(':projectA') {

    apply plugin: 'org.springframework.boot'
    apply plugin: 'io.spring.dependency-management'

    version = projectAVersion
   
    dependencies {
        implementation "org.springframework.boot:spring-boot-starter:${springBootVersion}"
        implementation "org.springframework.kafka:spring-kafka:${springKafkaVersion}"
        testImplementation "org.springframework.boot:spring-boot-starter-test:${springBootVersion}"
        testImplementation "org.springframework.kafka:spring-kafka-test:${springKafkaVersion}"
    }
}

project(':projectB') {
    apply plugin: 'org.springframework.boot'
    apply plugin: 'io.spring.dependency-management'

    version = projectBVersion

    dependencies {
        implementation "org.springframework.boot:spring-boot-starter:${springBootVersion}"
        implementation "org.springframework.kafka:spring-kafka:${springKafkaVersion}"
        testImplementation "org.springframework.boot:spring-boot-starter-test:${springBootVersion}"
        testImplementation "org.springframework.kafka:spring-kafka-test:${springKafkaVersion}"
    }
}


